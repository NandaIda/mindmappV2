<div class="modal-header">
  <h4 class="modal-title">Help & Instructions</h4>
  <button type="button" class="btn-close" aria-label="Close" (click)="close()"></button>
</div>
<div class="modal-body">
  <p><strong>Welcome to MindMapp V2!</strong></p>
  <p>MindMapp V2 is an intuitive mind mapping application that helps you organize your thoughts, brainstorm ideas, and create visual representations of your thoughts. With drag-and-drop functionality, keyboard shortcuts, and seamless import/export capabilities, MindMapp makes it easy to capture and develop your ideas.</p>

  <h5>Fully Keyboard-Driven Workflow</h5>
  <p><strong>MindMapp V2 is designed for complete keyboard control - you can do everything without ever touching the mouse!</strong></p>
  <ul>
    <li><strong>Navigate:</strong> Arrow keys to move between nodes spatially</li>
    <li><strong>Quick Create:</strong> Shift + Arrow to instantly add child nodes in any direction</li>
    <li><strong>Multi-Select:</strong> Press <kbd>M</kbd> to mark nodes, then operate on all marked nodes together</li>
    <li><strong>Edit:</strong> Double-click, Enter, or F2 to edit any node</li>
    <li><strong>Style:</strong> Shift+C for colors, Shift+S for shapes, Ctrl+B for bold, Ctrl+I for italic</li>
    <li><strong>Move:</strong> Ctrl + Arrow to precisely position nodes or groups</li>
  </ul>

  <h5>Keyboard Shortcuts</h5>
  <table class="table table-sm">
    <thead>
      <tr>
        <th>Action</th>
        <th>Shortcut</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td colspan="2" class="table-active"><strong>Fast Flow Navigation</strong></td>
      </tr>
      <tr>
        <td>Navigate</td>
        <td><kbd>Arrow Keys</kbd></td>
      </tr>
      <tr>
        <td>Precision Move Node</td>
        <td><kbd>Ctrl</kbd> + <kbd>Arrow Key</kbd></td>
      </tr>
      <tr>
        <td>Create Child in Direction</td>
        <td><kbd>Shift</kbd> + <kbd>Arrow Key</kbd></td>
      </tr>
      <tr>
        <td>Auto-Add Child</td>
        <td><kbd>Tab</kbd></td>
      </tr>
      <tr>
        <td>Finish Editing</td>
        <td><kbd>Enter</kbd> / <kbd>Esc</kbd></td>
      </tr>
      <tr>
        <td>Delete Node(s)</td>
        <td><kbd>Del</kbd> / <kbd>Backspace</kbd> / <kbd>-</kbd></td>
      </tr>
      <tr>
        <td>Show Help</td>
        <td><kbd>Ctrl+K</kbd></td>
      </tr>
      <tr>
        <td colspan="2" class="table-active"><strong>Multi-Select (Keyboard Only!)</strong></td>
      </tr>
      <tr>
        <td>Mark/Unmark Node</td>
        <td><kbd>M</kbd> (Toggle current node in selection)</td>
      </tr>
      <tr>
        <td>Select All</td>
        <td><kbd>Ctrl+A</kbd> / <kbd>Cmd+A</kbd></td>
      </tr>
      <tr>
        <td>Clear Selection</td>
        <td><kbd>Escape</kbd></td>
      </tr>
      <tr>
        <td>Multi-Select with Mouse</td>
        <td><kbd>Ctrl+Click</kbd> / <kbd>Cmd+Click</kbd> to toggle nodes</td>
      </tr>
      <tr>
        <td colspan="2" class="text-muted small">
          <em>Note: When multiple nodes are selected (green checkmark ✓), all operations (delete, color, shape, move) apply to all selected nodes. Drag any selected node to move all together!</em>
        </td>
      </tr>
      <tr>
        <td colspan="2" class="table-active"><strong>Structure (VIM-like)</strong></td>
      </tr>
      <tr>
        <td>Promote (Move Up Hierarchy)</td>
        <td><kbd>Alt</kbd> + <kbd>Left</kbd></td>
      </tr>
      <tr>
        <td>Demote (Move Down Hierarchy)</td>
        <td><kbd>Alt</kbd> + <kbd>Right</kbd></td>
      </tr>
      <tr>
        <td>Toggle Fold/Collapse</td>
        <td><kbd>F</kbd> or <kbd>C</kbd></td>
      </tr>
      <tr>
        <td colspan="2" class="table-active"><strong>Advanced View Control</strong></td>
      </tr>
      <tr>
        <td>Fold to Level 1-5</td>
        <td><kbd>Ctrl</kbd> + <kbd>1-5</kbd></td>
      </tr>
      <tr>
        <td>Expand All</td>
        <td><kbd>Ctrl</kbd> + <kbd>0</kbd></td>
      </tr>
      <tr>
        <td>Lock Nav to Level 1-5</td>
        <td><kbd>Shift</kbd> + <kbd>1-5</kbd></td>
      </tr>
      <tr>
        <td>Clear Nav Lock</td>
        <td><kbd>Shift</kbd> + <kbd>0</kbd></td>
      </tr>
      <tr>
        <td colspan="2" class="table-active"><strong>Styling & Customization</strong></td>
      </tr>
      <tr>
        <td>Toggle Bold</td>
        <td><kbd>Ctrl</kbd> + <kbd>B</kbd></td>
      </tr>
      <tr>
        <td>Toggle Italic</td>
        <td><kbd>Ctrl</kbd> + <kbd>I</kbd></td>
      </tr>
      <tr>
        <td>Cycle Shape</td>
        <td><kbd>Shift</kbd> + <kbd>S</kbd></td>
      </tr>
      <tr>
        <td>Cycle Color</td>
        <td><kbd>Shift</kbd> + <kbd>C</kbd></td>
      </tr>
      <tr>
        <td colspan="2" class="table-active"><strong>View Control</strong></td>
      </tr>
      <tr>
        <td>Center Selection</td>
        <td><kbd>Space</kbd></td>
      </tr>
      <tr>
        <td>Reset View</td>
        <td><kbd>0</kbd></td>
      </tr>
      <tr>
        <td>Search & Jump</td>
        <td><kbd>/</kbd></td>
      </tr>
      <tr>
        <td colspan="2" class="table-active"><strong>Standard Controls</strong></td>
      </tr>
      <tr>
        <td>Add child node (Dialog)</td>
        <td><kbd>+</kbd> or <kbd>=</kbd></td>
      </tr>
      <tr>
        <td>Delete selected node</td>
        <td><kbd>Delete</kbd>, <kbd>Backspace</kbd> or <kbd>-</kbd></td>
      </tr>
      <tr>
        <td>Undo</td>
        <td><kbd>Ctrl+Z</kbd> (Windows) / <kbd>Cmd+Z</kbd> (Mac)</td>
      </tr>
      <tr>
        <td>Redo</td>
        <td><kbd>Ctrl+Y</kbd> (Windows) / <kbd>Cmd+Shift+Z</kbd> (Mac)</td>
      </tr>
      <tr>
        <td>Save mindmap</td>
        <td><kbd>Ctrl+S</kbd> (Windows) / <kbd>Cmd+S</kbd> (Mac)</td>
      </tr>
      <tr>
        <td>Load mindmap</td>
        <td><kbd>Ctrl+O</kbd> (Windows) / <kbd>Cmd+O</kbd> (Mac)</td>
      </tr>
      <tr>
        <td>Export Mermaid</td>
        <td><kbd>Ctrl+Alt+E</kbd></td>
      </tr>
      <tr>
        <td>Import Mermaid</td>
        <td><kbd>Ctrl+Alt+I</kbd></td>
      </tr>
    </tbody>
  </table>

  <h5>Features</h5>
  <ul>
    <li><strong>100% Keyboard Control:</strong> Navigate, create, edit, and style nodes entirely with keyboard - no mouse required!</li>
    <li><strong>Spotlight Search:</strong> Press <kbd>/</kbd> to instantly search and jump to any node</li>
    <li><strong>Multi-Select:</strong> Mark multiple nodes with 'M' key and operate on them together (delete, style, move)</li>
    <li><strong>Smooth Touchpad:</strong> True diagonal two-finger panning with balanced speeds, Ctrl+Scroll for zoom</li>
    <li><strong>Style Inheritance:</strong> Shift+Arrow creates children that inherit parent's colors and shapes</li>
    <li><strong>Smart Navigation:</strong> Hover effects hide during keyboard navigation for distraction-free flow</li>
    <li><strong>Touch Support:</strong> Full support for mobile devices and touchscreens with pinch-to-zoom</li>
    <li><strong>Import/Export:</strong> Save and load your mind maps as .mind files</li>
    <li><strong>Undo/Redo:</strong> Full history support with up to 50 actions</li>
    <li><strong>Zoom & Pan:</strong> Navigate large mind maps with ease using mouse, touchpad, or touch</li>
  </ul>

  <h5>Visual Indicators</h5>
  <ul>
    <li><strong>Amber border:</strong> Current keyboard focus (where arrow keys will navigate from)</li>
    <li><strong>Green border + ✓:</strong> Multi-selected nodes (marked with 'M' key)</li>
    <li><strong>Blue border:</strong> Keyboard focus within multi-selection</li>
    <li><strong>Purple border:</strong> Node in edit mode (typing)</li>
  </ul>

  <h5>Links</h5>
  <p>
    <a href="https://github.com/cepa/mindmapp" target="_blank" rel="noopener noreferrer">
      <i class="fab fa-github me-2"></i>Original Mindmapp GitHub Repository
    </a>
  </p>
  <p>
    <a href="https://github.com/NandaIda/mindmappV2" target="_blank" rel="noopener noreferrer">
      <i class="fab fa-github me-2"></i>Mindmapp V2 GitHub Repository
    </a>
  </p>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-secondary" (click)="close()">Close</button>
</div>
